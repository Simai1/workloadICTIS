# Система распределения нагрузки

## Описание
Система предназначена для распределения нагрузки для преподавателей, 
заполнения материалов к расписанию, а также для мониторинга общих часов у преподавателя 
в целях устранения перегрузки или недоработки. Система включает себя разные роли со своим 
функционалом:
- METHODIST - методист,
- LECTURER - лектор,
- DEPARTMENT_HEAD - зав. кафедры,
- DIRECTORATE - дирекция,
- EDUCATOR - преподаватель,
- UNIT_ADMIN - администратор подразделения,
- DEPUTY_DIRECTORATE - зам. дирекции,
- DEPUTY_DEPARTMENT_HEAD - зам. зав. кафедры,
- GIGA_ADMIN - админ (для разработчиков и тестировщиков),
- GOD - роль со всеми привелегиями (для разработчиков и тестировщиков).

## Установка и запуск
В проекте сразу две директории под frontend (app) и backend (workload).

Версия Node 20.10.0
### Запуск backend:
Выполнить в директории app:
```bash
npm i
```
В директории должен находиться файл .env.{NODE_ENV}.local, созданный по примеру 
.env.example. В соответствии с запускаемым скриптом будет подтягиваться свой .env.

Запуск:
```bash
npm run dev # NODE_ENV=development
npm run start # NODE_ENV=production
```
### Запуск frontend:
Выполнить в директории workload:
```bash
npm i
```
Запуск:
```bash
npm run start # запуск в режиме разработчика
npm run build # Забилдить проект 
```

## Структура проекта
### Backend
- config - файлы конфигурации
- const - файлы конфигурации
- controllers - контроллеры для роутов
- dtos - data transfer objects 
- middlewares - промежуточные функции
- models - модели для ORM Sequelize, файлы инициализации и зависимостей
- routes - роуты, маршруты API
- services - вспомогательные скрипты
- utils - вспомогательные утилиты
- app.js - главный исполняемый файл
### Frontend
- public - Корневая папка приложения
  - fonts - шрифты
  - img - изображения
  - index.html - главая страница сайта c id=root в нее реакт подгружает все остальное
- src - Папка в которой лежит вся структура проекта
  -  Api - Различные запросы к бэку и подключение к сокетам
  -  Components - Все компоненты
  -  Img - часть изображений
  -  Pages - Страницы
  -  Store - Глобальное хранилище (Redux)
  -  Style - Глобальные стили к index.html, миксины и цвета вынесенные отдельно
  -  Ui - Различные Ui компоненты, кнопочки, инпуты
  -  App.js - Главный исполняемый файл с контекстами роутаами состояниями и тд
  -  bufferFunction.js - Файл в который вынесены все функции и логика работы с буфером
  -  Context.js - Файл с подключением контекстов
  -  RoleMetod.js - Разрешения для ролей, проосто добавляем новую роль и делаем проверку где нужно(Подключение в App.js)
 
## Ветки

* master - основная ветка.
  Ответственные: Бучнев Максим
* test-server - ветка для тестового сервера.
  Ответственные: Бучнев Максим
* feature/* - ветки под определенные фичи.
* fix/* - ветки под определенные фиксы.
